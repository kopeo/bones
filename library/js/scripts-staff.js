// Generated by CoffeeScript 1.9.1
(function() {
  (function($) {
    $(function() {
      var $closeHTML, $mb, $owl, changeStaffImg, resizeFunctions, scriptsForDesktop, scriptsForMobile, staffDataLoad;
      $mb = true;
      $owl = null;
      $closeHTML = '<button title="%title%" class="mfp-close"><i class="fa fa-close"></i>';
      $('.ajax-popup').magnificPopup({
        type: 'ajax',
        disableOn: function() {
          return $mb;
        },
        closeMarkup: $closeHTML,
        closeBtnInside: false,
        fixedContentPos: true,
        callbacks: {
          ajaxContentAdded: function() {}
        }
      });
      changeStaffImg = function() {
        var $_c, $_t;
        $_c = 0;
        $_t = $('#staffList img');
        if (!$mb) {
          $_t.hide().each(function() {
            $(this).one("load", function() {
              $_c++;
              if ($_c >= $_t.length) {
                $_t.show();
                $('#staffList').owlCarousel({
                  items: 10,
                  itemsDesktop: [1399, 7],
                  itemsDesktopSmall: [1030, 5],
                  itemsTablet: [768, 5],
                  autoPlay: 2000,
                  stopOnHover: true
                });
                $owl = $('#staffList').data('owlCarousel');
              }
            }).attr('src', $(this).data('large'));
          });
        }
      };
      staffDataLoad = function(event) {
        event.preventDefault();
        console.log("test");
      };
      scriptsForDesktop = function() {
        $mb = false;
        changeStaffImg();
        $('#staffList').on("click", "a", function(e) {
          var $container, $url;
          e.preventDefault();
          $url = $(this).attr('href');
          $container = $('#profile-container');
          $container.addClass('loading').children('.ajax-container').fadeOut();
          $.ajax({
            type: "GET",
            url: $url,
            dataType: 'html',
            success: function(data) {
              $container.removeClass("loading").addClass("loaded").children('.ajax-container').html($(data).find('.hentry')).fadeIn();
              $.getFooterOffsetY();
            },
            error: function(data) {
              $container.removeClass('loading').children('.ajax-container').fadeIn();
            }
          });
          return false;
        });
      };
      scriptsForMobile = function() {
        $mb = true;
        if ($owl != null) {
          $('#staffList').data('owlCarousel').destroy();
          $owl = null;
        }
      };
      resizeFunctions = function() {
        $('#staffList').off('click');
        if (Modernizr.mq('(min-width: 768px)')) {
          scriptsForDesktop();
        } else {
          scriptsForMobile();
        }
      };
      $(window).resize(function() {
        resizeFunctions();
      });
      resizeFunctions();
    });
  })(jQuery);

}).call(this);

//# sourceMappingURL=scripts-staff.js.map
