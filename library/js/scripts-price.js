// Generated by CoffeeScript 1.9.1
(function() {
  (function($) {
    return $(function() {
      var $taxP, calcPrice;
      $taxP = 0.08;
      calcPrice = function(e) {
        var $s, $tax, $temp, $total, $val;
        $('#course-line .selectedCourse').html("");
        $('#course-line .price').html("-円");
        $('#tax-line .price').html("−円");
        $('#totalPrice').html("−円");
        $('#certificateStamp-line').hide();
        $('#shortTerm-line').hide();
        $('#certificateStamp-line .price').text('-円');
        $('#shortTerm-line .price').text('-円');
        $s = $('[name="course"]:checked');
        $val = parseInt($s.val());
        $total = $val;
        $temp = 0;
        if ($val) {
          $tax = Math.round(Number($val * $taxP));
          $total += $tax;
          $('#course-line .selectedCourse').text(" : " + $s.next('label').text());
          $('#course-line .price').text(Number($val).toLocaleString() + '円');
          $('#tax-line .price').text(Number($tax).toLocaleString() + '円');
          if ($s.hasClass('needOpt')) {
            $('#certificateStamp-line').show();
            if ($('#certificateStamp').prop('checked')) {
              $temp = Number($('#certificateStamp').val());
              $total += $temp;
              $('#certificateStamp-line .price').text($temp.toLocaleString() + '円');
            }
          } else {
            $('#certificateStamp').prop('checked', false);
          }
          if ($s.hasClass('hasShortCourse')) {
            $('#shortTerm-line').show();
            if ($('#shortTerm').prop('checked')) {
              $temp = Number($('#shortTerm').val());
              $total += $temp;
              $('#shortTerm-line .price').text($temp.toLocaleString() + '円');
            }
          } else {
            $('#shortTerm').prop('checked', false);
          }
          $('#totalPrice').text(Number($total).toLocaleString() + '円');
          $('.totalPrice-detail').slideDown();
        } else {
          $('#certificateStamp').prop('checked', false);
          $('#shortTerm').prop('checked', false);
        }
      };
      $('input.calc').on('click', function() {
        var position, target;
        calcPrice();
        if (!$(this).hasClass('priceOption')) {
          target = $('#section-priceTotal');
          position = target.offset().top - 60;
          return $("html,body").animate({
            scrollTop: position
          }, 400, 'swing');
        }
      });
      $('[data-price]').each(function() {
        var $p;
        $p = Math.round(Number($(this).data('price')) * ($taxP + 1));
        $(this).next('.withTax').text('（税込' + Number($p).toLocaleString() + '円）');
      });
      calcPrice();
    });
  })(jQuery);

}).call(this);

//# sourceMappingURL=scripts-price.js.map
